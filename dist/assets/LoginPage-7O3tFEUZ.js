import{c as d,a as y,r as n,u as w,j as e,e as i,M as j,L as v,A as N,g as k,t as c}from"./index-DZqTk1Xt.js";import{d as M}from"./api-DMSRO12s.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],L=d("eye-off",S);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],C=d("eye",_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],E=d("lock",z);function q(){const r=y(),[m,x]=n.useState(!1),[l,b]=n.useState(!1),[s,f]=n.useState({email:"",password:""});w();const h=a=>{f({...s,[a.target.name]:a.target.value})},p=async a=>{a.preventDefault(),x(!0);try{const t=k();if(!t)throw new Error("Supabase client not initialized");const{data:u,error:g}=await t.auth.signInWithPassword({email:s.email,password:s.password});if(g)throw g;if(u.user){const o=await M(u.user.id);(o==null?void 0:o.role)==="mentor"?(r("/mentor-dashboard"),c.success("Welcome back, Mentor!")):(r("/student-dashboard"),c.success("Successfully logged in!"))}else r("/student-dashboard")}catch(t){console.error("Login Error:",t),c.error(t.message||"Failed to login")}finally{x(!1)}};return e.jsxs("div",{className:"min-h-screen bg-white flex font-sans",children:[e.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-gray-50 items-center justify-center relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 z-0",children:[e.jsx("div",{className:"absolute top-0 right-0 -mr-20 -mt-20 w-96 h-96 bg-amber-200/30 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 left-0 -ml-20 -mb-20 w-80 h-80 bg-orange-100/40 rounded-full blur-3xl"})]}),e.jsxs("div",{className:"relative z-10 w-full h-full flex flex-col items-center justify-center p-12",children:[e.jsxs("div",{className:"w-full max-w-md aspect-square bg-gradient-to-tr from-amber-50 to-orange-50 rounded-3xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] border border-white/50 flex items-center justify-center mb-8 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1522202176988-66273c2fd55f?q=80&w=1471&auto=format&fit=crop')] bg-cover bg-center opacity-90 mix-blend-multiply"}),e.jsx("div",{className:"absolute inset-0 bg-amber-500/10 mix-blend-overlay"})]}),e.jsxs("div",{className:"text-center max-w-lg",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Learn from the best."}),e.jsx("p",{className:"text-lg text-gray-600 leading-relaxed",children:'"Mentorship is the shortcut to experience. Connect with those who have walked the path before you."'})]})]})]}),e.jsxs("div",{className:"flex-1 flex flex-col justify-center px-4 sm:px-6 lg:px-20 xl:px-24 bg-white relative",children:[e.jsx("div",{className:"absolute top-8 left-8 lg:hidden",children:e.jsxs(i,{to:"/",className:"flex items-center gap-2 text-gray-500 hover:text-gray-900 transition-colors",children:[e.jsx("span",{className:"text-xl font-bold tracking-tight text-gray-900",children:"Mentozy"}),e.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-sm"})]})}),e.jsx("div",{className:"absolute top-8 right-8 hidden lg:flex items-center gap-1 cursor-pointer",children:e.jsxs(i,{to:"/",className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-2xl font-bold tracking-tight text-gray-900",children:"Mentozy"}),e.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-sm"})]})}),e.jsxs("div",{className:"mx-auto w-full max-w-sm lg:w-96",children:[e.jsxs("div",{className:"mb-10",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 tracking-tight mb-2",children:"Welcome back"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Please enter your details to sign in."})]}),e.jsxs("form",{className:"space-y-6",onSubmit:p,children:[e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Email address"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:e.jsx(j,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"block w-full pl-11 pr-4 py-3 rounded-xl border border-gray-200 bg-gray-50/50 text-gray-900 placeholder-gray-400 focus:bg-white focus:outline-none focus:ring-2 focus:ring-amber-500/20 focus:border-amber-500 transition-all text-sm",placeholder:"you@example.com",value:s.email,onChange:h})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700",children:"Password"}),e.jsx("a",{href:"#",className:"text-xs font-semibold text-amber-600 hover:text-amber-700 transition-colors",children:"Forgot password?"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:e.jsx(E,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),e.jsx("input",{id:"password",name:"password",type:l?"text":"password",autoComplete:"current-password",required:!0,className:"block w-full pl-11 pr-11 py-3 rounded-xl border border-gray-200 bg-gray-50/50 text-gray-900 placeholder-gray-400 focus:bg-white focus:outline-none focus:ring-2 focus:ring-amber-500/20 focus:border-amber-500 transition-all text-sm",placeholder:"••••••••",value:s.password,onChange:h}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3.5 flex items-center cursor-pointer text-gray-400 hover:text-gray-600 transition-colors",onClick:()=>b(!l),children:l?e.jsx(L,{className:"h-5 w-5"}):e.jsx(C,{className:"h-5 w-5"})})]})]})]}),e.jsx("div",{className:"pt-2",children:e.jsx("button",{type:"submit",disabled:m,className:"group relative w-full flex justify-center py-3.5 px-4 border border-transparent text-sm font-bold rounded-xl text-white bg-amber-500 hover:bg-amber-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500 shadow-lg shadow-amber-500/20 transition-all disabled:opacity-70 disabled:cursor-not-allowed hover:-translate-y-0.5 active:translate-y-0",children:m?e.jsx(v,{className:"w-5 h-5 animate-spin"}):e.jsxs("span",{className:"flex items-center gap-2",children:["Sign in ",e.jsx(N,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})})})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("p",{className:"text-sm text-gray-500",children:["Don't have an account?"," ",e.jsx(i,{to:"/signup",className:"font-bold text-gray-900 hover:text-amber-600 transition-colors underline decoration-transparent hover:decoration-amber-600 underline-offset-4",children:"Sign up"})]})})]})]})]})}export{q as LoginPage};

import{u as f,a as b,r as a,j as e,L as N}from"./index-DZqTk1Xt.js";import{d as p,f as y}from"./api-DMSRO12s.js";import{L as v}from"./log-out-BEm-ByUh.js";import{C as d}from"./calendar-Dx3b_GDl.js";import{C as w}from"./circle-check-DYJKQIFk.js";import{C as c}from"./clock-CM64aULa.js";import{U as S}from"./user-D72E50nT.js";function U(){const{user:t,signOut:x}=f(),r=b(),[l,o]=a.useState(null),[i,m]=a.useState([]),[h,g]=a.useState(!0);a.useEffect(()=>{async function s(){if(!t){r("/login");return}try{const[n,j]=await Promise.all([p(t.id),y(t.id)]);o(n),m(j)}catch(n){console.error("Failed to load mentor dashboard data",n)}finally{g(!1)}}s()},[t,r]);const u=async()=>{await x(),r("/")};return h?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx(N,{className:"w-10 h-10 text-blue-600 animate-spin"})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans",children:[e.jsx("nav",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between h-16",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center text-blue-600 font-bold",children:"M"}),e.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Mentozy for Mentors"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-right hidden sm:block",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:l==null?void 0:l.full_name}),e.jsx("p",{className:"text-xs text-gray-500",children:"Mentor Account"})]}),e.jsx("button",{onClick:u,className:"p-2 text-gray-400 hover:text-red-600 transition-colors",title:"Sign Out",children:e.jsx(v,{className:"w-5 h-5"})})]})]})})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"Overview of your upcoming sessions and student requests."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-50 rounded-xl flex items-center justify-center text-blue-600",children:e.jsx(d,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Upcoming Sessions"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:i.length})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-50 rounded-xl flex items-center justify-center text-green-600",children:e.jsx(w,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Completed Sessions"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"0"})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-amber-50 rounded-xl flex items-center justify-center text-amber-600",children:e.jsx(c,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Pending Requests"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"0"})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-100",children:e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Upcoming Sessions"})}),e.jsx("div",{className:"divide-y divide-gray-100",children:i.length===0?e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx(d,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{children:"No upcoming sessions scheduled."})]}):i.map(s=>e.jsxs("div",{className:"p-6 hover:bg-gray-50 transition-colors flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center text-gray-500",children:e.jsx(S,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Student Session"}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Requested by Student ID: ",s.user_id.substring(0,8),"..."]})]})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(d,{className:"w-4 h-4 text-blue-500"}),new Date(s.scheduled_at).toLocaleDateString()]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(c,{className:"w-4 h-4 text-blue-500"}),new Date(s.scheduled_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),e.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 text-xs font-bold rounded-full uppercase tracking-wide",children:s.status}),e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white text-sm font-semibold rounded-lg hover:bg-blue-700 transition-colors",children:"Join Call"})]})]},s.id))})]})]})]})}export{U as MentorDashboardPage};

import{g as c}from"./index-DZqTk1Xt.js";const p=[{id:1,name:"Aditi Verma",role:"Senior Product Manager",company:"Google",expertise:["Product Strategy","Resume Review","Mock Interviews"],rating:4.9,reviews:120,image:"bg-black-100 text-black-600",initials:"AV",bio:"Passionate about building scalable products and mentoring aspiring PMs.",years_experience:8,hourly_rate:150},{id:2,name:"David Chen",role:"Staff Engineer",company:"Netflix",expertise:["System Design","Backend Architecture","Career Growth"],rating:5,reviews:85,image:"bg-black-100 text-white-600",initials:"DC",bio:"Specializing in distributed systems and high-scale architecture.",years_experience:10,hourly_rate:200},{id:3,name:"Sarah Jones",role:"Engineering Manager",company:"Spotify",expertise:["Leadership","Frontend Dev","Salary Negotiation"],rating:4.8,reviews:200,image:"bg-black-100 text-white-600",initials:"SJ",bio:"Leading frontend teams and helping engineers grow into leadership roles.",years_experience:12,hourly_rate:180},{id:4,name:"Rahul Gupta",role:"Data Scientist",company:"Amazon",expertise:["AI/ML","Python","Data Structures"],rating:4.9,reviews:95,image:"bg-black-100 text-white-600",initials:"RG",bio:"Data enthusiast with a focus on machine learning and predictive modeling.",years_experience:6,hourly_rate:140},{id:5,name:"Emily Wang",role:"UX Researcher",company:"Airbnb",expertise:["User Research","Portfolio Review","Design Thinking"],rating:5,reviews:60,image:"bg-black-100 text-white-600",initials:"EW",bio:"Advocating for user-centric design through rigorous research and testing.",years_experience:5,hourly_rate:120},{id:6,name:"Michael Brown",role:"Full Stack Dev",company:"Stripe",expertise:["React","Node.js","Payment Integration"],rating:4.7,reviews:45,image:"bg-black-100 text-white-600",initials:"MB",bio:"Building robust payment infrastructure and developer-friendly APIs.",years_experience:7,hourly_rate:160}],g=[{title:"Full Stack Web Development",level:"Beginner to Advanced",duration:"6 Months",projects:8,description:"Master the MERN stack (MongoDB, Express, React, Node.js) and build production-ready applications.",modules:["HTML/CSS & JavaScript","React & State Management","Node.js & APIs","Database Design","Deployment & DevOps"]},{title:"Data Structures & Algorithms",level:"Intermediate",duration:"3 Months",projects:40,description:"Crack coding interviews at top tech companies. Focus on problem-solving patterns and optimization.",modules:["Arrays & Strings","Trees & Graphs","Dynamic Programming","System Design Basics","Mock Interviews"]},{title:"Product Management",level:"Beginner",duration:"4 Months",projects:5,description:"Learn how to build products users love. From user research to roadmap planning and launch.",modules:["Market Research","User Personas","Wireframing","Agile Methodologies","Go-to-Market Strategy"]},{title:"UI/UX Design",level:"Beginner",duration:"4 Months",projects:6,description:"Design beautiful and functional interfaces. Master Figma, prototyping, and design systems.",modules:["Design Principles","Figma Mastery","User Research","Prototyping","Portfolio Building"]}],_=async()=>{try{const t=c();if(!t)return p;const{data:r,error:n}=await t.from("mentors").select(`
                *,
                profiles (full_name, avatar_url),
                mentor_expertise (skill)
            `);return n?(console.warn("Error fetching mentors from Supabase, using fallback:",n.message),p):!r||r.length===0?(console.log("No mentors found in Supabase, using fallback."),p):r.map(e=>{var o,i,d,u;return{id:e.id,name:((o=e.profiles)==null?void 0:o.full_name)||"Unknown Mentor",role:e.bio?e.bio.split(".")[0]:"Mentor",company:e.company||"Independent",expertise:((i=e.mentor_expertise)==null?void 0:i.map(l=>l.skill))||[],rating:e.rating||0,reviews:e.total_reviews||0,image:((d=e.profiles)==null?void 0:d.avatar_url)||"",initials:(u=e.profiles)!=null&&u.full_name?e.profiles.full_name.split(" ").map(l=>l[0]).join("").substring(0,2):"??",bio:e.bio||void 0,years_experience:e.years_experience||0,hourly_rate:e.hourly_rate||0}})}catch(t){return console.error("Unexpected error fetching mentors:",t),p}},h=async()=>{try{const t=c();if(!t)return g;const{data:r,error:n}=await t.from("tracks").select(`
                *,
                track_modules (title, module_order)
            `).order("module_order",{foreignTable:"track_modules",ascending:!0});return n?(console.warn("Error fetching tracks from Supabase, using fallback:",n.message),g):!r||r.length===0?(console.log("No tracks found in Supabase, using fallback."),g):r.map(e=>{var o;return{id:e.id,title:e.title,level:e.level||"All Levels",duration:e.duration_weeks?`${e.duration_weeks} Weeks`:"Self-paced",projects:0,description:e.description||"",modules:((o=e.track_modules)==null?void 0:o.map(i=>i.title))||[],image_url:e.image_url||void 0}})}catch(t){return console.error("Unexpected error fetching tracks:",t),g}},k=async t=>{try{const r=c();if(!r)return null;const{data:n,error:a}=await r.from("profiles").select("*").eq("id",t).single();return a?(console.error("Error fetching profile:",a),null):n}catch(r){return console.error("Unexpected error in getUserProfile:",r),null}},y=async t=>{try{const r=c();if(!r)return[];const{data:n,error:a}=await r.from("enrollments").select("*, tracks(*, track_modules(title))").eq("user_id",t);return a?(console.error("Error fetching enrollments:",a),[]):n.map(s=>{var o;let e;if(s.tracks){const i=s.tracks;e={id:i.id,title:i.title,level:i.level||"All Levels",duration:i.duration_weeks?`${i.duration_weeks} Weeks`:"Self-paced",projects:0,description:i.description||"",modules:((o=i.track_modules)==null?void 0:o.map(d=>d.title))||[],image_url:i.image_url}}return{...s,tracks:e}})}catch(r){return console.error("Unexpected error in getStudentEnrollments:",r),[]}},b=async(t,r)=>{try{const n=c();if(!n)return!1;const{error:a}=await n.from("enrollments").insert({user_id:t,track_id:r});if(a)throw a;return!0}catch(n){return console.error("Error enrolling in track:",n),!1}},v=async t=>{try{const r=c();if(!r)return[];const{data:n,error:a}=await r.from("bookings").select(`
                *,
                mentors (
                    *,
                    profiles (full_name, avatar_url),
                    mentor_expertise (skill)
                ),
                mentor_availability (start_time)
            `).eq("student_id",t);return a?(console.error("Error fetching bookings:",a),[]):n.map(s=>{var o,i,d,u;let e;if(s.mentors){const l=s.mentors;e={id:l.id,name:((o=l.profiles)==null?void 0:o.full_name)||"Unknown Mentor",role:l.bio?l.bio.split(".")[0]:"Expert",company:l.company||"Independent",expertise:((i=l.mentor_expertise)==null?void 0:i.map(m=>m.skill))||[],rating:l.rating||0,reviews:l.total_reviews||0,image:((d=l.profiles)==null?void 0:d.avatar_url)||"",initials:"??"}}return{id:s.id,user_id:s.student_id,mentor_id:s.mentor_id,status:s.status,scheduled_at:((u=s.mentor_availability)==null?void 0:u.start_time)||new Date().toISOString(),meeting_link:s.meeting_link,mentors:e}})}catch(r){return console.error("Unexpected error in getStudentBookings:",r),[]}},w=async(t,r,n)=>{try{const a=c();if(!a)return!1;const{data:s,error:e}=await a.rpc("create_booking_adhoc",{p_student_id:t,p_mentor_id:r,p_start_time:n});return e?(console.error("RPC Error creating booking:",e),!1):!!s}catch(a){return console.error("Error creating booking:",a),!1}},S=async t=>{try{const r=c();if(!r)return[];const{data:n,error:a}=await r.from("mentors").select("id").eq("user_id",t).single();if(a||!n)return console.error("Error fetching mentor record:",a),[];const{data:s,error:e}=await r.from("bookings").select(`
                *, 
                profiles!student_id (*),
                mentor_availability (start_time)
            `).eq("mentor_id",n.id);return e?(console.error("Error fetching bookings:",e),[]):s.map(o=>{var i;return{id:o.id,user_id:o.student_id,mentor_id:o.mentor_id,status:o.status,scheduled_at:((i=o.mentor_availability)==null?void 0:i.start_time)||new Date().toISOString(),meeting_link:o.meeting_link,profiles:o.profiles}})}catch(r){return console.error("Unexpected error in getMentorBookings:",r),[]}};export{h as a,y as b,w as c,k as d,b as e,S as f,_ as g,v as h};
